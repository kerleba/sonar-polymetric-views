<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" charset="UTF-8">
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>
<body>
<!DOCTYPE html>
<style>

    .chart rect {
        fill: steelblue;
    }

    .chart text {
        fill: white;
        font: 10px sans-serif;
        text-anchor: end;
    }

</style>
<!--<svg class="chart" width="420" height="600">
    <rect width="50" height="70" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>
    <rect width="25" height="90" y="80" x="12.5" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>
    <line x1="25" y1="70" x2="25" y2="80" style="stroke:rgb(30, 30, 29);stroke-width:2" />

    <rect width="50" height="90" x="60" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>
    <rect width="50" height="30" x="120" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>

    <rect width="50" height="70" x="180" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>
    <rect width="10" height="40" y="85" x="180" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>
    <rect width="40" height="90" y="85" x="193.5" style="fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)"/>

    <line x1="205" y1="70" x2="185" y2="85" style="stroke:rgb(30, 30, 29);stroke-width:2" />
    <line x1="205" y1="70" x2="213.5" y2="85" style="stroke:rgb(30, 30, 29);stroke-width:2" />

</svg>-->


<script>
    var data = [
        {
            "class": "Classname",
            "metric1": 50,
            "metric2": 70,
            "children": [
                {
                    "class": "Classname2",
                    "metric1": 25,
                    "metric2": 90,
                    "children": []
                }
            ]
        },
        {
            "class": "Classname2",
            "metric1": 50,
            "metric2": 90,
            "children": []
        },
        {
            "class": "Classname2",
            "metric1": 50,
            "metric2": 30,
            "children": []
        },
        {
            "class": "Classname2",
            "metric1": 50,
            "metric2": 70,
            "children": [
                {
                    "class": "Classname2",
                    "metric1": 10,
                    "metric2": 40
                },
                {
                    "class": "Classname2",
                    "metric1": 40,
                    "metric2": 90
                }
            ]

        }
    ];

    var items = [
        {
            "class": "Classname",
            "x": 0,
            "y": 0,
            "metric1": 50,
            "metric2": 70
        },
        {
            "class": "Classname2",
            "x": 12.5,
            "y": 80,
            "metric1": 25,
            "metric2": 90
        },
        {
            "class": "Classname2",
            "x": 60,
            "y": 0,
            "metric1": 50,
            "metric2": 90
        },
        {
            "class": "Classname2",
            "x": 120,
            "y": 0,
            "metric1": 50,
            "metric2": 30
        },
        {
            "class": "Classname2",
            "x": 180,
            "y": 0,
            "metric1": 50,
            "metric2": 70
        },
        {
            "class": "Classname2",
            "x": 180,
            "y": 85,
            "metric1": 10,
            "metric2": 40
        },
        {
            "class": "Classname2",
            "x": 193.5,
            "y": 85,
            "metric1": 40,
            "metric2": 90
        }
    ];

    var lines = [
        {
            "x1": 25,
            "y1": 70,
            "x2": 25,
            "y2": 80
        },
        {
            "x1": 205,
            "y1": 70,
            "x2": 185,
            "y2": 85
        },
        {
            "x1": 205,
            "y1": 70,
            "x2": 213.5,
            "y2": 85
        }
    ];

    var width = 600;
    var height = 700;

    var svg = d3.select("body").append("svg")
            .attr("width", width)
            .attr("height", height);

    var rect = svg.selectAll("rect")
            .data(items)
            .enter().append("rect")
                .attr("style", "fill:rgb(188, 188, 186);stroke-width:1;stroke:rgb(0,0,0)")
                .attr("width", function(d) { return d.metric1; })
                .attr("height", function(d) { return d.metric2; })
                .attr("x", function(d) { return d.x; })
                .attr("y", function(d) { return d.y; });

    var line = svg.selectAll("line")
                .data(lines)
                .enter().append("line")
                    .attr("style", "stroke:rgb(30, 30, 29);stroke-width:2")
                    .attr("x1", function(d) { return d.x1; })
                    .attr("x2", function(d) { return d.x2; })
                    .attr("y1", function(d) { return d.y1; })
                    .attr("y2", function(d) { return d.y2; });

</script>


</body>
</html>
